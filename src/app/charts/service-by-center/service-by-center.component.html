<div class="row mt-5">
  <div class="col-lg-12">
    <h3 class="">
      Resumen <br> <small *ngIf="data && data.date">Del {{data.date.init|date:'dd-MM-yyyy'}} hasta el {{data.date.end|date:'dd-MM-yyyy'}}</small>
    </h3>
    <div class="btn-group">
      <button [ngClass]="{'btn-outline-primary btn btn-sm':true, 'active':rangeSelect=='day'}" (click)="rangeSelect='day'; setParams()">Día</button>
      <button [ngClass]="{'btn-outline-primary btn btn-sm':true, 'active':rangeSelect=='week'}" (click)="rangeSelect='week'; setParams()">Semana</button>
      <button [ngClass]="{'btn-outline-primary btn btn-sm':true, 'active':rangeSelect=='month'}" (click)="rangeSelect='month'; setParams()">Mes</button>
      <button [ngClass]="{'btn-outline-primary btn btn-sm':true, 'active':rangeSelect=='year'}" (click)="rangeSelect='year'; setParams()">Año</button>
    </div>
  </div>
</div>
<br>
<div class="row">
  <div [ngClass]="{'col-md-12 col-sm-12 offset-1 col-lg-10':viewCharts.aa, 'col-sm-12 col-md-6  col-lg-6':!viewCharts.aa}">
  
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">
          <span class="text-primary">ENTRADAS POR</span>
          <span *ngIf="rangeSelect=='day'"> Día</span>
          <span *ngIf="rangeSelect=='week'"> Semana</span>
          <span *ngIf="rangeSelect=='month'"> Mes</span>
          <span *ngIf="rangeSelect=='year'"> Año</span>
          <span class="float-right">
            <button class="btn-outline-secondary btn btn-sm" (click)="viewCharts.aa = !viewCharts.aa">
              <span *ngIf="!viewCharts.aa"><i class="fas fa-chevron-right"></i></span>
              <span *ngIf="viewCharts.aa"><i class="fas fa-chevron-left"></i></span>
            </button>
          </span>
        </h5>
        <canvas #chartCount id="chartCount"></canvas>
      </div>
    </div>
  </div>
  <div class="col-md-12 col-sm-12 col-lg-12" *ngIf="viewCharts.aa || viewCharts.ab">
    <br>
  </div>
  <div [ngClass]="{'col-md-12 col-sm-12 offset-1 col-lg-10':viewCharts.ab, 'col-sm-12 col-md-6  col-lg-6':!viewCharts.ab}">

    <div class="card">
      <div class="card-body">
        <h5 class="card-title">
          <span class="text-primary">VENTA</span>
          <span *ngIf="rangeSelect=='day'"> Día</span>
          <span *ngIf="rangeSelect=='week'"> Semana</span>
          <span *ngIf="rangeSelect=='month'"> Mes</span>
          <span *ngIf="rangeSelect=='year'"> Año</span>
          <span class="float-right">
            <button class="btn-outline-secondary btn btn-sm" (click)="viewCharts.ab = !viewCharts.ab">
              <span *ngIf="!viewCharts.ab"><i class="fas fa-chevron-right"></i></span>
              <span *ngIf="viewCharts.ab"><i class="fas fa-chevron-left"></i></span>
            </button>
          </span>
        </h5>
        <canvas #chartTax id="chartTax"></canvas>
      </div>
    </div>
    
  </div>
</div>
<br>
<div class="row">
  <div [ngClass]="{'col-md-12 col-sm-12 offset-1 col-lg-10':viewCharts.ba, 'col-sm-12 col-md-12  col-lg-12':!viewCharts.ba}">
 
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">
          <span class="text-primary">TOTALES</span> Cotizado / Aprobaciones / Rechazos
          <span *ngIf="rangeSelect=='day'"> Día</span>
          <span *ngIf="rangeSelect=='week'"> Semana</span>
          <span *ngIf="rangeSelect=='month'"> Mes</span>
          <span *ngIf="rangeSelect=='year'"> Año</span>
          <span class="float-right">
            <button class="btn-outline-secondary btn btn-sm" (click)="viewCharts.ba = !viewCharts.ba">
              <span *ngIf="!viewCharts.ba"><i class="fas fa-chevron-right"></i></span>
              <span *ngIf="viewCharts.ba"><i class="fas fa-chevron-left"></i></span>
            </button>
          </span>
        </h5>
        <canvas #chartValue id="chartValue"></canvas>
      </div>
    </div>
  </div>
  <div class="col-md-12 col-sm-12 col-lg-12" >
    <br>
  </div>
  <div [ngClass]="{'col-md-12 col-sm-12 offset-1 col-lg-10':viewCharts.bb, 'col-sm-12 col-md-6  col-lg-6':!viewCharts.bb}">

    <div class="card">
      <div class="card-body">
        <h5 class="card-title">
          <span class="text-primary">VENTA REPUESTOS</span>
          <span *ngIf="rangeSelect=='day'"> Día</span>
          <span *ngIf="rangeSelect=='week'"> Semana</span>
          <span *ngIf="rangeSelect=='month'"> Mes</span>
          <span *ngIf="rangeSelect=='year'"> Año</span>
          <span class="float-right">
            <button class="btn-outline-secondary btn btn-sm" (click)="viewCharts.bb = !viewCharts.bb">
              <span *ngIf="!viewCharts.bb"><i class="fas fa-chevron-right"></i></span>
              <span *ngIf="viewCharts.bb"><i class="fas fa-chevron-left"></i></span>
            </button>
          </span>
        </h5>
        <canvas #charGroup id="chartGroup"></canvas>
      </div>
    </div>
  </div>
  
  <div [ngClass]="{'col-md-12 col-sm-12 offset-1 col-lg-10':viewCharts.bc, 'col-sm-12 col-md-6  col-lg-6':!viewCharts.bc}">
  
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">
          <span class="text-primary">TOTAL VENTA MANO DE OBRA</span>
          <span *ngIf="rangeSelect=='day'"> Día</span>
          <span *ngIf="rangeSelect=='week'"> Semana</span>
          <span *ngIf="rangeSelect=='month'"> Mes</span>
          <span *ngIf="rangeSelect=='year'"> Año</span>
          <span class="float-right">
            <button class="btn-outline-secondary btn btn-sm" (click)="viewCharts.bc = !viewCharts.bc">
              <span *ngIf="!viewCharts.bb"><i class="fas fa-chevron-right"></i></span>
              <span *ngIf="viewCharts.bb"><i class="fas fa-chevron-left"></i></span>
            </button>
          </span>
        </h5>
        <canvas #chartParts id="chartParts"></canvas>
      </div>
    </div>
    
</div>
<br>
<div class="row">
  <div class="col-lg-12 table-responsive table-sm">
    <h3>Tabla de datos</h3>
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Centro</th>
          <th>Ordenes</th>
          <th>Cotización Promedio</th>
          <th>Promedio Aprobación</th>
          <th>Cotizado</th>
          <th>Cot Part</th>
          <th>Cot MO</th>
          <th>Aprobado Total</th>
          <th>Apbdo Partes</th>
          <th>Apbdo MO</th>
          <th>Rech Total</th>
          <th>Rech Partes</th>
          <th>Rech MO</th>
          

        </tr>
      </thead>
      <tbody>
        <tr class="text-sm" *ngFor="let i of data.labels; let j=index">
          <th>{{i}}</th>
          <td>{{data.orders[j]}}</td>
          <td class="text-primary">{{data.avg_total[j] | currency:'$':'symbol':'1.0'}}</td>
          <td>{{data.ticket[j]| currency:'$':'symbol':'1.0'}}</td>
          <td class="text-info">{{data.total[j] | currency:'$':'symbol':'1.0'}}</td>
          <td class="text-info">{{data.parts[j] | currency:'$':'symbol':'1.0'}}</td>
          <td class="text-info">{{data.mo[j] | currency:'$':'symbol':'1.0'}}</td>

          <td class="text-success">{{data.total_approve[j] | currency:'$':'symbol':'1.0'}}</td>
          <td class="text-success">{{data.parts_approve[j] | currency:'$':'symbol':'1.0'}}</td>
          <td class="text-success">{{data.mo_approve[j] | currency:'$':'symbol':'1.0'}}</td>

          <td class="text-danger">{{data.total_ban[j] | currency:'$':'symbol':'1.0'}}</td>
          <td class="text-danger">{{data.parts_ban[j] | currency:'$':'symbol':'1.0'}}</td>
          <td class="text-danger">{{data.mo_ban[j] | currency:'$':'symbol':'1.0'}}</td>
        </tr>
      </tbody> 
    </table>
  </div>
</div>
<br><br>



